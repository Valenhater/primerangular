<div>
  <h1>Formulario Binding Model</h1>
  <h2>{{ mensaje }}</h2>
  <!-- El formulario debe tener un id de angular indicndo un valor como ngForm -->
  <form #userForm="ngForm" (ngSubmit)="recibirDatos()">
    <label>Nombre</label>
    <!-- Los controles de formulario deben tener un id de angular 
    indicando como valor ngModel -->
    <!-- Para indicar el modelo enlazado al control debemos hacerlo con la siguiente sintaxis [(ngModel)]="modelo" -->
    <input type="text" name="cajanombre" 
    #cajanombre="ngModel" 
    [(ngModel)]="user.nombre"
    required
    />
    <span style="color:red" *ngIf="cajanombre.valid == false && cajanombre.touched">El nombre es obligatorio</span>
    <br>
    <label>Apellidos</label>
    <input type="text" name="cajaapellidos" 
    #cajaapellidos="ngModel" 
    [(ngModel)]="user.apellidos"
    pattern="^[A-Z]{1}[a-z]{2}"
    />
    <span style="color:red" *ngIf="cajaapellidos.valid == false && cajaapellidos.touched">
        El apellido debe comenzar con mayuscula y tener minimo 3 letras
    </span>
    <br>
    <label>Edad</label>
    <input type="number" name="cajaedad" 
    #cajaedad="ngModel" 
    [(ngModel)]="user.edad"/><br>
    <button [disabled]="!userForm.valid">Enviar datos</button>
  </form>

  <hr>

  <h2 style="color:blue">Nombre: {{user.nombre}}</h2>
  <h2 style="color:red">Apellidos: {{user.apellidos}}</h2>
  <h2 style="color:fuchsia">Edad: {{user.edad}}</h2>
</div>
